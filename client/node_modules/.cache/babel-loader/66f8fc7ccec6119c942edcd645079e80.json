{"ast":null,"code":"// The `OS/2` table contains metrics required in OpenType fonts.\n// https://www.microsoft.com/typography/OTSPEC/os2.htm\nimport parse from '../parse';\nimport table from '../table';\nvar unicodeRanges = [{\n  begin: 0x0000,\n  end: 0x007F\n}, // Basic Latin\n{\n  begin: 0x0080,\n  end: 0x00FF\n}, // Latin-1 Supplement\n{\n  begin: 0x0100,\n  end: 0x017F\n}, // Latin Extended-A\n{\n  begin: 0x0180,\n  end: 0x024F\n}, // Latin Extended-B\n{\n  begin: 0x0250,\n  end: 0x02AF\n}, // IPA Extensions\n{\n  begin: 0x02B0,\n  end: 0x02FF\n}, // Spacing Modifier Letters\n{\n  begin: 0x0300,\n  end: 0x036F\n}, // Combining Diacritical Marks\n{\n  begin: 0x0370,\n  end: 0x03FF\n}, // Greek and Coptic\n{\n  begin: 0x2C80,\n  end: 0x2CFF\n}, // Coptic\n{\n  begin: 0x0400,\n  end: 0x04FF\n}, // Cyrillic\n{\n  begin: 0x0530,\n  end: 0x058F\n}, // Armenian\n{\n  begin: 0x0590,\n  end: 0x05FF\n}, // Hebrew\n{\n  begin: 0xA500,\n  end: 0xA63F\n}, // Vai\n{\n  begin: 0x0600,\n  end: 0x06FF\n}, // Arabic\n{\n  begin: 0x07C0,\n  end: 0x07FF\n}, // NKo\n{\n  begin: 0x0900,\n  end: 0x097F\n}, // Devanagari\n{\n  begin: 0x0980,\n  end: 0x09FF\n}, // Bengali\n{\n  begin: 0x0A00,\n  end: 0x0A7F\n}, // Gurmukhi\n{\n  begin: 0x0A80,\n  end: 0x0AFF\n}, // Gujarati\n{\n  begin: 0x0B00,\n  end: 0x0B7F\n}, // Oriya\n{\n  begin: 0x0B80,\n  end: 0x0BFF\n}, // Tamil\n{\n  begin: 0x0C00,\n  end: 0x0C7F\n}, // Telugu\n{\n  begin: 0x0C80,\n  end: 0x0CFF\n}, // Kannada\n{\n  begin: 0x0D00,\n  end: 0x0D7F\n}, // Malayalam\n{\n  begin: 0x0E00,\n  end: 0x0E7F\n}, // Thai\n{\n  begin: 0x0E80,\n  end: 0x0EFF\n}, // Lao\n{\n  begin: 0x10A0,\n  end: 0x10FF\n}, // Georgian\n{\n  begin: 0x1B00,\n  end: 0x1B7F\n}, // Balinese\n{\n  begin: 0x1100,\n  end: 0x11FF\n}, // Hangul Jamo\n{\n  begin: 0x1E00,\n  end: 0x1EFF\n}, // Latin Extended Additional\n{\n  begin: 0x1F00,\n  end: 0x1FFF\n}, // Greek Extended\n{\n  begin: 0x2000,\n  end: 0x206F\n}, // General Punctuation\n{\n  begin: 0x2070,\n  end: 0x209F\n}, // Superscripts And Subscripts\n{\n  begin: 0x20A0,\n  end: 0x20CF\n}, // Currency Symbol\n{\n  begin: 0x20D0,\n  end: 0x20FF\n}, // Combining Diacritical Marks For Symbols\n{\n  begin: 0x2100,\n  end: 0x214F\n}, // Letterlike Symbols\n{\n  begin: 0x2150,\n  end: 0x218F\n}, // Number Forms\n{\n  begin: 0x2190,\n  end: 0x21FF\n}, // Arrows\n{\n  begin: 0x2200,\n  end: 0x22FF\n}, // Mathematical Operators\n{\n  begin: 0x2300,\n  end: 0x23FF\n}, // Miscellaneous Technical\n{\n  begin: 0x2400,\n  end: 0x243F\n}, // Control Pictures\n{\n  begin: 0x2440,\n  end: 0x245F\n}, // Optical Character Recognition\n{\n  begin: 0x2460,\n  end: 0x24FF\n}, // Enclosed Alphanumerics\n{\n  begin: 0x2500,\n  end: 0x257F\n}, // Box Drawing\n{\n  begin: 0x2580,\n  end: 0x259F\n}, // Block Elements\n{\n  begin: 0x25A0,\n  end: 0x25FF\n}, // Geometric Shapes\n{\n  begin: 0x2600,\n  end: 0x26FF\n}, // Miscellaneous Symbols\n{\n  begin: 0x2700,\n  end: 0x27BF\n}, // Dingbats\n{\n  begin: 0x3000,\n  end: 0x303F\n}, // CJK Symbols And Punctuation\n{\n  begin: 0x3040,\n  end: 0x309F\n}, // Hiragana\n{\n  begin: 0x30A0,\n  end: 0x30FF\n}, // Katakana\n{\n  begin: 0x3100,\n  end: 0x312F\n}, // Bopomofo\n{\n  begin: 0x3130,\n  end: 0x318F\n}, // Hangul Compatibility Jamo\n{\n  begin: 0xA840,\n  end: 0xA87F\n}, // Phags-pa\n{\n  begin: 0x3200,\n  end: 0x32FF\n}, // Enclosed CJK Letters And Months\n{\n  begin: 0x3300,\n  end: 0x33FF\n}, // CJK Compatibility\n{\n  begin: 0xAC00,\n  end: 0xD7AF\n}, // Hangul Syllables\n{\n  begin: 0xD800,\n  end: 0xDFFF\n}, // Non-Plane 0 *\n{\n  begin: 0x10900,\n  end: 0x1091F\n}, // Phoenicia\n{\n  begin: 0x4E00,\n  end: 0x9FFF\n}, // CJK Unified Ideographs\n{\n  begin: 0xE000,\n  end: 0xF8FF\n}, // Private Use Area (plane 0)\n{\n  begin: 0x31C0,\n  end: 0x31EF\n}, // CJK Strokes\n{\n  begin: 0xFB00,\n  end: 0xFB4F\n}, // Alphabetic Presentation Forms\n{\n  begin: 0xFB50,\n  end: 0xFDFF\n}, // Arabic Presentation Forms-A\n{\n  begin: 0xFE20,\n  end: 0xFE2F\n}, // Combining Half Marks\n{\n  begin: 0xFE10,\n  end: 0xFE1F\n}, // Vertical Forms\n{\n  begin: 0xFE50,\n  end: 0xFE6F\n}, // Small Form Variants\n{\n  begin: 0xFE70,\n  end: 0xFEFF\n}, // Arabic Presentation Forms-B\n{\n  begin: 0xFF00,\n  end: 0xFFEF\n}, // Halfwidth And Fullwidth Forms\n{\n  begin: 0xFFF0,\n  end: 0xFFFF\n}, // Specials\n{\n  begin: 0x0F00,\n  end: 0x0FFF\n}, // Tibetan\n{\n  begin: 0x0700,\n  end: 0x074F\n}, // Syriac\n{\n  begin: 0x0780,\n  end: 0x07BF\n}, // Thaana\n{\n  begin: 0x0D80,\n  end: 0x0DFF\n}, // Sinhala\n{\n  begin: 0x1000,\n  end: 0x109F\n}, // Myanmar\n{\n  begin: 0x1200,\n  end: 0x137F\n}, // Ethiopic\n{\n  begin: 0x13A0,\n  end: 0x13FF\n}, // Cherokee\n{\n  begin: 0x1400,\n  end: 0x167F\n}, // Unified Canadian Aboriginal Syllabics\n{\n  begin: 0x1680,\n  end: 0x169F\n}, // Ogham\n{\n  begin: 0x16A0,\n  end: 0x16FF\n}, // Runic\n{\n  begin: 0x1780,\n  end: 0x17FF\n}, // Khmer\n{\n  begin: 0x1800,\n  end: 0x18AF\n}, // Mongolian\n{\n  begin: 0x2800,\n  end: 0x28FF\n}, // Braille Patterns\n{\n  begin: 0xA000,\n  end: 0xA48F\n}, // Yi Syllables\n{\n  begin: 0x1700,\n  end: 0x171F\n}, // Tagalog\n{\n  begin: 0x10300,\n  end: 0x1032F\n}, // Old Italic\n{\n  begin: 0x10330,\n  end: 0x1034F\n}, // Gothic\n{\n  begin: 0x10400,\n  end: 0x1044F\n}, // Deseret\n{\n  begin: 0x1D000,\n  end: 0x1D0FF\n}, // Byzantine Musical Symbols\n{\n  begin: 0x1D400,\n  end: 0x1D7FF\n}, // Mathematical Alphanumeric Symbols\n{\n  begin: 0xFF000,\n  end: 0xFFFFD\n}, // Private Use (plane 15)\n{\n  begin: 0xFE00,\n  end: 0xFE0F\n}, // Variation Selectors\n{\n  begin: 0xE0000,\n  end: 0xE007F\n}, // Tags\n{\n  begin: 0x1900,\n  end: 0x194F\n}, // Limbu\n{\n  begin: 0x1950,\n  end: 0x197F\n}, // Tai Le\n{\n  begin: 0x1980,\n  end: 0x19DF\n}, // New Tai Lue\n{\n  begin: 0x1A00,\n  end: 0x1A1F\n}, // Buginese\n{\n  begin: 0x2C00,\n  end: 0x2C5F\n}, // Glagolitic\n{\n  begin: 0x2D30,\n  end: 0x2D7F\n}, // Tifinagh\n{\n  begin: 0x4DC0,\n  end: 0x4DFF\n}, // Yijing Hexagram Symbols\n{\n  begin: 0xA800,\n  end: 0xA82F\n}, // Syloti Nagri\n{\n  begin: 0x10000,\n  end: 0x1007F\n}, // Linear B Syllabary\n{\n  begin: 0x10140,\n  end: 0x1018F\n}, // Ancient Greek Numbers\n{\n  begin: 0x10380,\n  end: 0x1039F\n}, // Ugaritic\n{\n  begin: 0x103A0,\n  end: 0x103DF\n}, // Old Persian\n{\n  begin: 0x10450,\n  end: 0x1047F\n}, // Shavian\n{\n  begin: 0x10480,\n  end: 0x104AF\n}, // Osmanya\n{\n  begin: 0x10800,\n  end: 0x1083F\n}, // Cypriot Syllabary\n{\n  begin: 0x10A00,\n  end: 0x10A5F\n}, // Kharoshthi\n{\n  begin: 0x1D300,\n  end: 0x1D35F\n}, // Tai Xuan Jing Symbols\n{\n  begin: 0x12000,\n  end: 0x123FF\n}, // Cuneiform\n{\n  begin: 0x1D360,\n  end: 0x1D37F\n}, // Counting Rod Numerals\n{\n  begin: 0x1B80,\n  end: 0x1BBF\n}, // Sundanese\n{\n  begin: 0x1C00,\n  end: 0x1C4F\n}, // Lepcha\n{\n  begin: 0x1C50,\n  end: 0x1C7F\n}, // Ol Chiki\n{\n  begin: 0xA880,\n  end: 0xA8DF\n}, // Saurashtra\n{\n  begin: 0xA900,\n  end: 0xA92F\n}, // Kayah Li\n{\n  begin: 0xA930,\n  end: 0xA95F\n}, // Rejang\n{\n  begin: 0xAA00,\n  end: 0xAA5F\n}, // Cham\n{\n  begin: 0x10190,\n  end: 0x101CF\n}, // Ancient Symbols\n{\n  begin: 0x101D0,\n  end: 0x101FF\n}, // Phaistos Disc\n{\n  begin: 0x102A0,\n  end: 0x102DF\n}, // Carian\n{\n  begin: 0x1F030,\n  end: 0x1F09F // Domino Tiles\n\n}];\n\nfunction getUnicodeRange(unicode) {\n  for (var i = 0; i < unicodeRanges.length; i += 1) {\n    var range = unicodeRanges[i];\n\n    if (unicode >= range.begin && unicode < range.end) {\n      return i;\n    }\n  }\n\n  return -1;\n} // Parse the OS/2 and Windows metrics `OS/2` table\n\n\nfunction parseOS2Table(data, start) {\n  var os2 = {};\n  var p = new parse.Parser(data, start);\n  os2.version = p.parseUShort();\n  os2.xAvgCharWidth = p.parseShort();\n  os2.usWeightClass = p.parseUShort();\n  os2.usWidthClass = p.parseUShort();\n  os2.fsType = p.parseUShort();\n  os2.ySubscriptXSize = p.parseShort();\n  os2.ySubscriptYSize = p.parseShort();\n  os2.ySubscriptXOffset = p.parseShort();\n  os2.ySubscriptYOffset = p.parseShort();\n  os2.ySuperscriptXSize = p.parseShort();\n  os2.ySuperscriptYSize = p.parseShort();\n  os2.ySuperscriptXOffset = p.parseShort();\n  os2.ySuperscriptYOffset = p.parseShort();\n  os2.yStrikeoutSize = p.parseShort();\n  os2.yStrikeoutPosition = p.parseShort();\n  os2.sFamilyClass = p.parseShort();\n  os2.panose = [];\n\n  for (var i = 0; i < 10; i++) {\n    os2.panose[i] = p.parseByte();\n  }\n\n  os2.ulUnicodeRange1 = p.parseULong();\n  os2.ulUnicodeRange2 = p.parseULong();\n  os2.ulUnicodeRange3 = p.parseULong();\n  os2.ulUnicodeRange4 = p.parseULong();\n  os2.achVendID = String.fromCharCode(p.parseByte(), p.parseByte(), p.parseByte(), p.parseByte());\n  os2.fsSelection = p.parseUShort();\n  os2.usFirstCharIndex = p.parseUShort();\n  os2.usLastCharIndex = p.parseUShort();\n  os2.sTypoAscender = p.parseShort();\n  os2.sTypoDescender = p.parseShort();\n  os2.sTypoLineGap = p.parseShort();\n  os2.usWinAscent = p.parseUShort();\n  os2.usWinDescent = p.parseUShort();\n\n  if (os2.version >= 1) {\n    os2.ulCodePageRange1 = p.parseULong();\n    os2.ulCodePageRange2 = p.parseULong();\n  }\n\n  if (os2.version >= 2) {\n    os2.sxHeight = p.parseShort();\n    os2.sCapHeight = p.parseShort();\n    os2.usDefaultChar = p.parseUShort();\n    os2.usBreakChar = p.parseUShort();\n    os2.usMaxContent = p.parseUShort();\n  }\n\n  return os2;\n}\n\nfunction makeOS2Table(options) {\n  return new table.Table('OS/2', [{\n    name: 'version',\n    type: 'USHORT',\n    value: 0x0003\n  }, {\n    name: 'xAvgCharWidth',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'usWeightClass',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'usWidthClass',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'fsType',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'ySubscriptXSize',\n    type: 'SHORT',\n    value: 650\n  }, {\n    name: 'ySubscriptYSize',\n    type: 'SHORT',\n    value: 699\n  }, {\n    name: 'ySubscriptXOffset',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'ySubscriptYOffset',\n    type: 'SHORT',\n    value: 140\n  }, {\n    name: 'ySuperscriptXSize',\n    type: 'SHORT',\n    value: 650\n  }, {\n    name: 'ySuperscriptYSize',\n    type: 'SHORT',\n    value: 699\n  }, {\n    name: 'ySuperscriptXOffset',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'ySuperscriptYOffset',\n    type: 'SHORT',\n    value: 479\n  }, {\n    name: 'yStrikeoutSize',\n    type: 'SHORT',\n    value: 49\n  }, {\n    name: 'yStrikeoutPosition',\n    type: 'SHORT',\n    value: 258\n  }, {\n    name: 'sFamilyClass',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'bFamilyType',\n    type: 'BYTE',\n    value: 0\n  }, {\n    name: 'bSerifStyle',\n    type: 'BYTE',\n    value: 0\n  }, {\n    name: 'bWeight',\n    type: 'BYTE',\n    value: 0\n  }, {\n    name: 'bProportion',\n    type: 'BYTE',\n    value: 0\n  }, {\n    name: 'bContrast',\n    type: 'BYTE',\n    value: 0\n  }, {\n    name: 'bStrokeVariation',\n    type: 'BYTE',\n    value: 0\n  }, {\n    name: 'bArmStyle',\n    type: 'BYTE',\n    value: 0\n  }, {\n    name: 'bLetterform',\n    type: 'BYTE',\n    value: 0\n  }, {\n    name: 'bMidline',\n    type: 'BYTE',\n    value: 0\n  }, {\n    name: 'bXHeight',\n    type: 'BYTE',\n    value: 0\n  }, {\n    name: 'ulUnicodeRange1',\n    type: 'ULONG',\n    value: 0\n  }, {\n    name: 'ulUnicodeRange2',\n    type: 'ULONG',\n    value: 0\n  }, {\n    name: 'ulUnicodeRange3',\n    type: 'ULONG',\n    value: 0\n  }, {\n    name: 'ulUnicodeRange4',\n    type: 'ULONG',\n    value: 0\n  }, {\n    name: 'achVendID',\n    type: 'CHARARRAY',\n    value: 'XXXX'\n  }, {\n    name: 'fsSelection',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'usFirstCharIndex',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'usLastCharIndex',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'sTypoAscender',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'sTypoDescender',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'sTypoLineGap',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'usWinAscent',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'usWinDescent',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'ulCodePageRange1',\n    type: 'ULONG',\n    value: 0\n  }, {\n    name: 'ulCodePageRange2',\n    type: 'ULONG',\n    value: 0\n  }, {\n    name: 'sxHeight',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'sCapHeight',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'usDefaultChar',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'usBreakChar',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'usMaxContext',\n    type: 'USHORT',\n    value: 0\n  }], options);\n}\n\nexport default {\n  parse: parseOS2Table,\n  make: makeOS2Table,\n  unicodeRanges: unicodeRanges,\n  getUnicodeRange: getUnicodeRange\n};","map":null,"metadata":{},"sourceType":"module"}